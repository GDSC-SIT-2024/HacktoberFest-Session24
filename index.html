<div class="checkout">
  <div class="credit-card-box">
    <div class="flip">
      <!-- Front of the Card -->
      <div class="front">
        <div class="chip"></div>
        <div class="logo">
          <svg version="1.1" id="visa" xmlns="http://www.w3.org/2000/svg" width="47.834px" height="47.834px" viewBox="0 0 47.834 47.834">
            <!-- SVG content -->
          </svg>
        </div>
        <div class="number" id="display-card-number">XXXX XXXX XXXX XXXX</div>
        <div class="card-holder">
          <label for="card-holder">Card Holder</label>
          <div id="display-card-holder">John Doe</div>
        </div>
        <div class="card-expiration-date">
          <label for="card-expiration-month">Expires</label>
          <div id="display-expiration">MM/YY</div>
        </div>
      </div>

      <!-- Back of the Card -->
      <div class="back">
        <div class="strip"></div>
        <div class="ccv">
          <label for="display-ccv">CCV</label>
          <div id="display-ccv">XXX</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Form for card details -->
  <form class="form" autocomplete="off" novalidate>
    <fieldset>
      <label for="card-number">Card Number</label>
      <input type="text" id="card-number" class="input-cart-number" maxlength="19" placeholder="XXXX XXXX XXXX XXXX" required />
    </fieldset>

    <fieldset>
      <label for="card-holder">Card Holder</label>
      <input type="text" id="card-holder" placeholder="Card Holder Name" required />
    </fieldset>

    <fieldset class="fieldset-expiration">
      <label for="card-expiration-month">Expiration Date</label>
      <div class="select">
        <select id="card-expiration-month" required>
          <option value="" disabled selected>MM</option>
          <option value="01">01</option>
          <option value="02">02</option>
          <option value="03">03</option>
          <option value="04">04</option>
          <option value="05">05</option>
          <option value="06">06</option>
          <option value="07">07</option>
          <option value="08">08</option>
          <option value="09">09</option>
          <option value="10">10</option>
          <option value="11">11</option>
          <option value="12">12</option>
        </select>

        <select id="card-expiration-year" required>
          <option value="" disabled selected>YY</option>
          <!-- Dynamic Year Generation -->
          <script>
            const currentYear = new Date().getFullYear();
            for (let i = 0; i <= 10; i++) {
              document.write('<option value="' + (currentYear + i).toString().slice(2) + '">' + (currentYear + i) + '</option>');
            }
          </script>
        </select>
      </div>
    </fieldset>

    <fieldset>
      <label for="ccv">CCV</label>
      <input type="text" id="ccv" maxlength="3" placeholder="XXX" required />
    </fieldset>

    <button type="submit" class="submit-button">Submit Payment</button>
  </form>
</div>

<script>
  const cardNumberInput = document.getElementById('card-number');
  const displayCardNumber = document.getElementById('display-card-number');
  const cardHolderInput = document.getElementById('card-holder');
  const displayCardHolder = document.getElementById('display-card-holder');
  const expirationMonth = document.getElementById('card-expiration-month');
  const expirationYear = document.getElementById('card-expiration-year');
  const displayExpiration = document.getElementById('display-expiration');
  const ccvInput = document.getElementById('ccv');
  const displayCcv = document.getElementById('display-ccv');

  cardNumberInput.addEventListener('input', () => {
    displayCardNumber.innerText = cardNumberInput.value.replace(/(\d{4})(?=\d)/g, '$1 ');
  });

  cardHolderInput.addEventListener('input', () => {
    displayCardHolder.innerText = cardHolderInput.value;
  });

  expirationMonth.addEventListener('change', () => {
    displayExpiration.innerText = expirationMonth.value + '/' + expirationYear.value;
  });

  expirationYear.addEventListener('change', () => {
    displayExpiration.innerText = expirationMonth.value + '/' + expirationYear.value;
  });

  ccvInput.addEventListener('input', () => {
    displayCcv.innerText = ccvInput.value;
  });
</script>
